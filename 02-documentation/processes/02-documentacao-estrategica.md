# Prompt Universal de DocumentaÃ§Ã£o EstratÃ©gica Completa

## ğŸ¯ Contexto
VocÃª Ã© um arquiteto de soluÃ§Ãµes fullstack enterprise especializado em criar documentaÃ§Ã£o estratÃ©gica completa para projetos de software de grande escala. Sua expertise abrange metodologias Ã¡geis, arquitetura de sistemas, bancos de dados, design patterns, DevOps e melhores prÃ¡ticas de desenvolvimento.

## ğŸ“‹ MissÃ£o
Criar uma documentaÃ§Ã£o estratÃ©gica completa e estruturada que sirva como "cÃ©rebro externo" para toda a equipe, eliminando ambiguidades, maximizando produtividade e garantindo qualidade em todas as fases do desenvolvimento.

## ğŸ—ï¸ ESTRUTURA COMPLETA DE DOCUMENTAÃ‡ÃƒO

### PARTE 1: DOCUMENTAÃ‡ÃƒO ESTRATÃ‰GICA ENTERPRISE

#### 1.1 Product Requirements Document (PRD)

**VisÃ£o EstratÃ©gica do Produto**
- **Problema de NegÃ³cio**: Quantifique o impacto (tempo, custo, eficiÃªncia)
- **SoluÃ§Ã£o Proposta**: VisÃ£o de 3 anos, missÃ£o e proposta de valor Ãºnica
- **DiferenciaÃ§Ã£o Competitiva**: MÃ­nimo 3 diferenciais Ãºnicos e sustentÃ¡veis
- **ValidaÃ§Ã£o de Mercado**: Dados de pesquisa, TAM/SAM/SOM, early adopters

**OKRs e KPIs Detalhados**
- **Objetivos Trimestrais**: 3 OKRs com Key Results mensurÃ¡veis
- **KPIs de NegÃ³cio**: 
  - AquisiÃ§Ã£o: CAC, conversion rate, trial-to-paid
  - AtivaÃ§Ã£o: Time to value, onboarding completion
  - RetenÃ§Ã£o: Churn rate, retention cohorts, NPS
  - Receita: MRR, ARPU, LTV/CAC ratio
  - ReferÃªncia: Viral coefficient, referral rate
- **MÃ©tricas de Produto**: 
  - Feature adoption rate
  - Daily/Monthly active users
  - Task completion rate
  - Error rates por funcionalidade
- **Benchmarks**: ComparaÃ§Ã£o com top 3 competidores

**Personas e Jornadas Detalhadas**
- **Demografia Completa**: 
  - Idade, gÃªnero, localizaÃ§Ã£o
  - Cargo, senioridade, tamanho da empresa
  - Renda, orÃ§amento disponÃ­vel
- **Perfil PsicogrÃ¡fico**: 
  - Valores pessoais e profissionais
  - MotivaÃ§Ãµes e aspiraÃ§Ãµes
  - FrustraÃ§Ãµes e pain points
  - Influenciadores de decisÃ£o
- **Comportamento Digital**: 
  - Dispositivos preferidos (mobile/desktop)
  - Plataformas e redes sociais
  - HorÃ¡rios de pico de uso
  - PreferÃªncias de comunicaÃ§Ã£o
- **Jobs to be Done**: 
  - Funcionais: O que precisam realizar
  - Emocionais: Como querem se sentir
  - Sociais: Como querem ser percebidos
- **Jornada Completa do UsuÃ¡rio**:
  1. **Awareness**: Como descobrem a soluÃ§Ã£o
  2. **Consideration**: CritÃ©rios de avaliaÃ§Ã£o
  3. **Decision**: Fatores decisivos
  4. **Onboarding**: Primeiros passos
  5. **Adoption**: Uso regular
  6. **Advocacy**: RecomendaÃ§Ã£o ativa

**AnÃ¡lise Competitiva Profunda**
- **Mapeamento de Concorrentes**:
  - Diretos: Mesma soluÃ§Ã£o, mesmo pÃºblico
  - Indiretos: SoluÃ§Ã£o alternativa, mesmo problema
  - Potenciais: Podem entrar no mercado
- **AnÃ¡lise SWOT Detalhada**:
  - Strengths: Vantagens competitivas
  - Weaknesses: Pontos de melhoria
  - Opportunities: TendÃªncias favorÃ¡veis
  - Threats: Riscos e ameaÃ§as
- **EstratÃ©gia de Posicionamento**:
  - Proposta de valor Ãºnica
  - Mensagem principal
  - DiferenciaÃ§Ã£o clara
- **Modelo de Pricing**:
  - EstratÃ©gia (freemium, trial, etc.)
  - Tiers e features por plano
  - ComparaÃ§Ã£o com mercado

#### 1.2 EspecificaÃ§Ãµes TÃ©cnicas Completas

**Arquitetura de Sistema Detalhada**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FRONTEND                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Framework: Next.js 14 (App Router)                         â”‚
â”‚  Estado: Zustand + React Query                              â”‚
â”‚  UI: Tailwind CSS + Shadcn/ui                              â”‚
â”‚  Build: Turbopack                                          â”‚
â”‚  Testing: Jest + React Testing Library + Playwright        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API GATEWAY                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Protocolo: REST + GraphQL (hÃ­brido)                       â”‚
â”‚  Auth: JWT + Refresh Tokens                                â”‚
â”‚  Rate Limiting: Redis-based                                â”‚
â”‚  Cache: Redis + CDN                                        â”‚
â”‚  API Versioning: URL path (/v1, /v2)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        BACKEND                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Platform: Supabase (PostgreSQL + Auth + Realtime)         â”‚
â”‚  Edge Functions: Deno runtime                              â”‚
â”‚  Background Jobs: pg_cron + queues                         â”‚
â”‚  File Storage: Supabase Storage                            â”‚
â”‚  Search: PostgreSQL full-text + pgvector                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    INFRASTRUCTURE                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Hosting: Vercel (Frontend) + Supabase Cloud               â”‚
â”‚  CDN: Vercel Edge Network                                  â”‚
â”‚  Monitoring: Sentry + Vercel Analytics                     â”‚
â”‚  CI/CD: GitHub Actions                                     â”‚
â”‚  Secrets: Vercel Environment Variables                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Technology Stack Decisions (ADRs)**

**ADR-001: Frontend Framework**
- **DecisÃ£o**: Next.js 14 com App Router
- **Contexto**: Necessidade de SSR/SSG, performance, SEO
- **Alternativas**: 
  - React + Vite: Mais simples, sem SSR nativo
  - Remix: Bom SSR, ecossistema menor
  - Gatsby: Focado em sites estÃ¡ticos
- **Justificativa**: 
  - Server Components para performance
  - App Router para melhor DX
  - Vercel integration perfeita
  - Maior comunidade React
- **ConsequÃªncias**: 
  - âœ… SEO otimizado, performance excelente
  - âš ï¸ Vendor lock-in parcial com Vercel
  - âš ï¸ Curva de aprendizado App Router

**ADR-002: Backend Platform**
- **DecisÃ£o**: Supabase
- **Contexto**: Backend completo com auth, database, realtime
- **Alternativas**:
  - Firebase: NoSQL, vendor lock-in Google
  - AWS Amplify: Muito complexo para o escopo
  - Custom backend: Muito tempo de desenvolvimento
- **Justificativa**:
  - PostgreSQL robusto e familiar
  - Auth pronto e seguro
  - Row Level Security nativo
  - Realtime subscriptions
  - Open source
- **ConsequÃªncias**:
  - âœ… Desenvolvimento rÃ¡pido
  - âœ… Features enterprise prontas
  - âš ï¸ DependÃªncia do serviÃ§o
  - âš ï¸ CustomizaÃ§Ãµes limitadas

**API Design Completo**

**Estrutura de Endpoints RESTful**
```
# AutenticaÃ§Ã£o
POST   /api/v1/auth/register
POST   /api/v1/auth/login
POST   /api/v1/auth/logout
POST   /api/v1/auth/refresh
POST   /api/v1/auth/forgot-password
POST   /api/v1/auth/reset-password
POST   /api/v1/auth/verify-email
GET    /api/v1/auth/me

# Gerenciamento de UsuÃ¡rios
GET    /api/v1/users/profile
PUT    /api/v1/users/profile
DELETE /api/v1/users/account
POST   /api/v1/users/avatar
PUT    /api/v1/users/preferences
GET    /api/v1/users/activity

# [Recurso Principal - Exemplo: Projects]
GET    /api/v1/projects              # Lista com paginaÃ§Ã£o
POST   /api/v1/projects              # Criar novo
GET    /api/v1/projects/:id          # Detalhes
PUT    /api/v1/projects/:id          # Atualizar
DELETE /api/v1/projects/:id          # Deletar
POST   /api/v1/projects/:id/archive  # Arquivar
POST   /api/v1/projects/:id/restore  # Restaurar
GET    /api/v1/projects/:id/stats    # EstatÃ­sticas

# Busca e Filtros
GET    /api/v1/search?q=termo        # Busca global
GET    /api/v1/projects?filter[status]=active&sort=-created_at

# Webhooks
POST   /api/webhooks/stripe
POST   /api/webhooks/github
```

**Estrutura Request/Response Padronizada**

```typescript
// Request
interface ApiRequest<T> {
  headers: {
    'Content-Type': 'application/json';
    'Authorization': `Bearer ${token}`;
    'X-API-Version': 'v1';
    'X-Request-ID': string;
  };
  body: {
    data: T;
    metadata?: {
      timestamp: string;
      source?: string;
    };
  };
}

// Response Success
interface ApiResponse<T> {
  success: true;
  data: T;
  metadata: {
    timestamp: string;
    requestId: string;
    version: string;
  };
  pagination?: {
    page: number;
    limit: number;
    total: number;
    totalPages: number;
    hasNext: boolean;
    hasPrev: boolean;
  };
}

// Response Error
interface ApiError {
  success: false;
  error: {
    code: string;
    message: string;
    details?: Array<{
      field?: string;
      message: string;
      code?: string;
    }>;
    stack?: string; // Apenas em desenvolvimento
  };
  metadata: {
    timestamp: string;
    requestId: string;
  };
}
```

### PARTE 2: ARQUITETURA WEB FULLSTACK

#### 2.1 Estrutura de Projeto Detalhada

**Frontend Structure**
```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/            # Grupo de rotas autenticadas
â”‚   â”œâ”€â”€ (public)/          # Grupo de rotas pÃºblicas
â”‚   â”œâ”€â”€ api/               # API routes
â”‚   â””â”€â”€ layout.tsx         # Root layout
â”œâ”€â”€ components/            
â”‚   â”œâ”€â”€ ui/                # Componentes base (Shadcn)
â”‚   â”œâ”€â”€ forms/             # FormulÃ¡rios reutilizÃ¡veis
â”‚   â”œâ”€â”€ layouts/           # Layouts e containers
â”‚   â””â”€â”€ features/          # Componentes por feature
â”œâ”€â”€ hooks/                 # Custom React hooks
â”‚   â”œâ”€â”€ use-auth.ts       
â”‚   â”œâ”€â”€ use-api.ts        
â”‚   â””â”€â”€ use-toast.ts      
â”œâ”€â”€ lib/                   # Bibliotecas e utilities
â”‚   â”œâ”€â”€ api/              # API client
â”‚   â”œâ”€â”€ auth/             # Auth helpers
â”‚   â”œâ”€â”€ utils/            # FunÃ§Ãµes utilitÃ¡rias
â”‚   â””â”€â”€ validations/      # Schemas de validaÃ§Ã£o
â”œâ”€â”€ stores/                # Estado global (Zustand)
â”œâ”€â”€ styles/                # Estilos globais
â””â”€â”€ types/                 # TypeScript types
```

**Backend Structure (Supabase)**
```
supabase/
â”œâ”€â”€ migrations/            # SQL migrations
â”‚   â”œâ”€â”€ 00001_initial_schema.sql
â”‚   â”œâ”€â”€ 00002_add_profiles.sql
â”‚   â””â”€â”€ 00003_add_rls_policies.sql
â”œâ”€â”€ functions/             # Edge Functions
â”‚   â”œâ”€â”€ webhook-handler/
â”‚   â”œâ”€â”€ process-upload/
â”‚   â””â”€â”€ send-notification/
â”œâ”€â”€ seed.sql              # Dados iniciais
â””â”€â”€ config.toml           # ConfiguraÃ§Ã£o local
```

#### 2.2 Database Design com Supabase

**Schema Principal**
```sql
-- Enable extensions
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "pgcrypto";
CREATE EXTENSION IF NOT EXISTS "pg_trgm"; -- Para busca fuzzy
CREATE EXTENSION IF NOT EXISTS "unaccent"; -- Para busca sem acentos

-- Profiles table (extends auth.users)
CREATE TABLE public.profiles (
    id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
    username TEXT UNIQUE,
    full_name TEXT,
    avatar_url TEXT,
    bio TEXT,
    metadata JSONB DEFAULT '{}',
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Create indexes
CREATE INDEX idx_profiles_username ON profiles(username);
CREATE INDEX idx_profiles_full_name_trgm ON profiles USING gin(full_name gin_trgm_ops);

-- Enable RLS
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;

-- RLS Policies
CREATE POLICY "Public profiles are viewable by everyone" 
    ON profiles FOR SELECT 
    USING (true);

CREATE POLICY "Users can update own profile" 
    ON profiles FOR UPDATE 
    USING (auth.uid() = id);

-- Main resource table (example: projects)
CREATE TABLE public.projects (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
    title TEXT NOT NULL,
    description TEXT,
    status TEXT DEFAULT 'active' CHECK (status IN ('active', 'archived', 'deleted')),
    settings JSONB DEFAULT '{}',
    tags TEXT[] DEFAULT '{}',
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Indexes for performance
CREATE INDEX idx_projects_user_id ON projects(user_id);
CREATE INDEX idx_projects_status ON projects(status);
CREATE INDEX idx_projects_created_at ON projects(created_at DESC);
CREATE INDEX idx_projects_tags ON projects USING gin(tags);

-- Full text search
ALTER TABLE projects ADD COLUMN search_vector tsvector;

CREATE FUNCTION projects_search_trigger() RETURNS trigger AS $$
BEGIN
    NEW.search_vector := 
        setweight(to_tsvector('portuguese', COALESCE(NEW.title, '')), 'A') ||
        setweight(to_tsvector('portuguese', COALESCE(NEW.description, '')), 'B');
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_projects_search
    BEFORE INSERT OR UPDATE ON projects
    FOR EACH ROW
    EXECUTE FUNCTION projects_search_trigger();

CREATE INDEX idx_projects_search ON projects USING gin(search_vector);

-- RLS for projects
ALTER TABLE projects ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own projects" 
    ON projects FOR SELECT 
    USING (auth.uid() = user_id);

CREATE POLICY "Users can create projects" 
    ON projects FOR INSERT 
    WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update own projects" 
    ON projects FOR UPDATE 
    USING (auth.uid() = user_id);

CREATE POLICY "Users can delete own projects" 
    ON projects FOR DELETE 
    USING (auth.uid() = user_id);
```

**Functions e Procedures**
```sql
-- Function: Updated at trigger
CREATE OR REPLACE FUNCTION update_updated_at()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- Apply to all tables
CREATE TRIGGER update_profiles_updated_at
    BEFORE UPDATE ON profiles
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at();

CREATE TRIGGER update_projects_updated_at
    BEFORE UPDATE ON projects
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at();

-- Function: Search projects
CREATE OR REPLACE FUNCTION search_projects(search_query TEXT, user_uuid UUID)
RETURNS SETOF projects AS $$
BEGIN
    RETURN QUERY
    SELECT * FROM projects
    WHERE user_id = user_uuid
    AND (
        search_vector @@ plainto_tsquery('portuguese', search_query)
        OR title ILIKE '%' || search_query || '%'
    )
    ORDER BY ts_rank(search_vector, plainto_tsquery('portuguese', search_query)) DESC;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Function: Get user statistics
CREATE OR REPLACE FUNCTION get_user_stats(user_uuid UUID)
RETURNS TABLE (
    total_projects BIGINT,
    active_projects BIGINT,
    archived_projects BIGINT,
    total_tags BIGINT
) AS $$
BEGIN
    RETURN QUERY
    SELECT 
        COUNT(*) FILTER (WHERE status != 'deleted'),
        COUNT(*) FILTER (WHERE status = 'active'),
        COUNT(*) FILTER (WHERE status = 'archived'),
        COUNT(DISTINCT unnest(tags))
    FROM projects
    WHERE user_id = user_uuid;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

### PARTE 3: PROCEDIMENTOS DE DESENVOLVIMENTO

#### 3.1 Git Workflow Completo

**Branch Strategy (GitFlow Adaptado)**
```
main (production)
â”œâ”€â”€ develop (staging)
â”‚   â”œâ”€â”€ feature/JIRA-123-user-authentication
â”‚   â”œâ”€â”€ feature/JIRA-456-payment-integration
â”‚   â””â”€â”€ feature/JIRA-789-dashboard-redesign
â”œâ”€â”€ hotfix/JIRA-321-critical-auth-fix
â””â”€â”€ release/v1.2.0
```

**Commit Message Convention**
```bash
# Formato
<type>(<scope>): <subject>

<body>

<footer>

# Tipos permitidos
feat:     Nova funcionalidade
fix:      CorreÃ§Ã£o de bug
docs:     DocumentaÃ§Ã£o
style:    FormataÃ§Ã£o (nÃ£o afeta lÃ³gica)
refactor: RefatoraÃ§Ã£o de cÃ³digo
perf:     Melhorias de performance
test:     AdiÃ§Ã£o/correÃ§Ã£o de testes
build:    Build system ou dependÃªncias
ci:       CI/CD
chore:    Outras mudanÃ§as

# Exemplos
feat(auth): implement JWT refresh token rotation

- Add refresh token endpoint
- Implement token rotation logic
- Update auth middleware
- Add tests for token refresh

Closes #123

fix(api): handle null values in user profile update

Prevent crash when bio field is null

Fixes #456
```

**Pull Request Template**
```markdown
## ğŸ“‹ DescriÃ§Ã£o
[Descreva claramente o que foi implementado/corrigido]

## ğŸ¯ Tipo de MudanÃ§a
- [ ] ğŸ› Bug fix (correÃ§Ã£o que resolve um problema)
- [ ] âœ¨ Nova feature (mudanÃ§a que adiciona funcionalidade)
- [ ] ğŸ’¥ Breaking change (mudanÃ§a incompatÃ­vel com versÃ£o anterior)
- [ ] ğŸ“š DocumentaÃ§Ã£o
- [ ] ğŸ¨ RefatoraÃ§Ã£o
- [ ] âš¡ Performance

## ğŸ§ª Como Testar
1. Clone a branch: `git checkout feature/...`
2. Instale dependÃªncias: `npm install`
3. Execute: `npm run dev`
4. Teste: [instruÃ§Ãµes especÃ­ficas]

## âœ… Checklist
- [ ] CÃ³digo segue os padrÃµes do projeto
- [ ] Self-review realizado
- [ ] ComentÃ¡rios adicionados em cÃ³digo complexo
- [ ] DocumentaÃ§Ã£o atualizada
- [ ] Testes adicionados/atualizados
- [ ] Todos os testes passando
- [ ] Build sem erros
- [ ] Sem conflitos com develop

## ğŸ“¸ Screenshots/VÃ­deos
[Se aplicÃ¡vel, adicione evidÃªncias visuais]

## ğŸ”— Issues Relacionadas
Closes #[nÃºmero]
Relates to #[nÃºmero]

## ğŸ“Š Performance Impact
- [ ] Sem impacto
- [ ] Melhoria de performance
- [ ] PossÃ­vel degradaÃ§Ã£o (justifique)

## ğŸš¨ Deploy Notes
[InstruÃ§Ãµes especiais para deploy, se houver]
```

#### 3.2 Testing Strategy Completa

**PirÃ¢mide de Testes**
```
         /\
        /  \      E2E Tests (10%)
       /____\     - Fluxos crÃ­ticos completos
      /      \    - Playwright
     /________\   Integration Tests (20%)
    /          \  - API endpoints
   /____________\ - Database operations
  /              \ Unit Tests (70%)
 /________________\- Business logic
                   - Utilities
                   - Components
```

**Estrutura de Testes**
```typescript
// Unit Test Example
describe('UserService', () => {
  describe('createUser', () => {
    it('should create user with valid data', async () => {
      // Arrange
      const userData = { email: 'test@example.com', name: 'Test' };
      
      // Act
      const user = await userService.createUser(userData);
      
      // Assert
      expect(user).toMatchObject({
        email: userData.email,
        name: userData.name,
        id: expect.any(String)
      });
    });

    it('should throw error for duplicate email', async () => {
      // Test implementation
    });
  });
});

// Integration Test Example
describe('POST /api/v1/auth/register', () => {
  it('should register new user', async () => {
    const response = await request(app)
      .post('/api/v1/auth/register')
      .send({
        email: 'newuser@example.com',
        password: 'SecurePass123!',
        name: 'New User'
      });

    expect(response.status).toBe(201);
    expect(response.body).toHaveProperty('data.user');
    expect(response.body).toHaveProperty('data.token');
  });
});

// E2E Test Example
test('user can complete onboarding flow', async ({ page }) => {
  // Navigate to signup
  await page.goto('/signup');
  
  // Fill form
  await page.fill('[name="email"]', 'e2e@example.com');
  await page.fill('[name="password"]', 'TestPass123!');
  await page.click('button[type="submit"]');
  
  // Verify redirect to onboarding
  await expect(page).toHaveURL('/onboarding');
  
  // Complete onboarding steps
  // ...
});
```

**Coverage Requirements**
- **Overall**: MÃ­nimo 80%
- **Critical paths**: 100%
- **New features**: 90%
- **Bug fixes**: Teste reproduzindo o bug + fix

#### 3.3 CI/CD Pipeline Completo

**GitHub Actions Workflow**
```yaml
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

env:
  NODE_VERSION: '18.x'

jobs:
  # 1. Qualidade de CÃ³digo
  quality:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Lint code
        run: npm run lint
      
      - name: Type check
        run: npm run type-check
      
      - name: Format check
        run: npm run format:check

  # 2. Testes
  test:
    runs-on: ubuntu-latest
    needs: quality
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Run unit tests
        run: npm run test:unit
      
      - name: Run integration tests
        run: npm run test:integration
        env:
          DATABASE_URL: ${{ secrets.TEST_DATABASE_URL }}
      
      - name: Upload coverage
        uses: codecov/codecov-action@v3
        with:
          token: ${{ secrets.CODECOV_TOKEN }}

  # 3. Build
  build:
    runs-on: ubuntu-latest
    needs: test
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Build application
        run: npm run build
        env:
          NEXT_PUBLIC_SUPABASE_URL: ${{ secrets.NEXT_PUBLIC_SUPABASE_URL }}
          NEXT_PUBLIC_SUPABASE_ANON_KEY: ${{ secrets.NEXT_PUBLIC_SUPABASE_ANON_KEY }}
      
      - name: Upload build artifacts
        uses: actions/upload-artifact@v3
        with:
          name: build-files
          path: .next

  # 4. Security Scan
  security:
    runs-on: ubuntu-latest
    needs: build
    steps:
      - uses: actions/checkout@v3
      
      - name: Run security audit
        run: npm audit --production
      
      - name: Run Snyk scan
        uses: snyk/actions/node@master
        env:
          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}

  # 5. E2E Tests
  e2e:
    runs-on: ubuntu-latest
    needs: build
    if: github.event_name == 'pull_request'
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Install Playwright
        run: npx playwright install --with-deps
      
      - name: Run E2E tests
        run: npm run test:e2e
        env:
          PLAYWRIGHT_BASE_URL: ${{ secrets.STAGING_URL }}

  # 6. Deploy to Staging
  deploy-staging:
    runs-on: ubuntu-latest
    needs: [build, security]
    if: github.ref == 'refs/heads/develop'
    steps:
      - uses: actions/checkout@v3
      
      - name: Deploy to Vercel Staging
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'
          scope: ${{ secrets.VERCEL_SCOPE }}

  # 7. Deploy to Production
  deploy-production:
    runs-on: ubuntu-latest
    needs: [build, security, e2e]
    if: github.ref == 'refs/heads/main'
    steps:
      - uses: actions/checkout@v3
      
      - name: Deploy to Vercel Production
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'
          scope: ${{ secrets.VERCEL_SCOPE }}
      
      - name: Notify deployment
        uses: 8398a7/action-slack@v3
        with:
          status: ${{ job.status }}
          text: 'Production deployment completed!'
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }}
```

### PARTE 4: DESIGN SYSTEM E UX

#### 4.1 Design Tokens Completo

```css
/* Design Tokens - CSS Variables */
:root {
  /* Colors - Primary Palette */
  --color-primary-50: #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-300: #93c5fd;
  --color-primary-400: #60a5fa;
  --color-primary-500: #3b82f6;
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;
  --color-primary-800: #1e40af;
  --color-primary-900: #1e3a8a;
  --color-primary-950: #172554;

  /* Colors - Neutral Palette */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  --color-gray-950: #030712;

  /* Colors - Semantic */
  --color-success: #10b981;
  --color-success-light: #34d399;
  --color-success-dark: #059669;
  
  --color-warning: #f59e0b;
  --color-warning-light: #fbbf24;
  --color-warning-dark: #d97706;
  
  --color-error: #ef4444;
  --color-error-light: #f87171;
  --color-error-dark: #dc2626;
  
  --color
Acessibilidade WCAG AA garantida
- [ ] Responsive design testado
- [ ] Animation guidelines definidas
- [ ] User flows mapeados

### SeguranÃ§a e Performance
- [ ] Security headers configurados
- [ ] Authentication/authorization implementados
- [ ] Input validation em todas APIs
- [ ] Performance monitoring ativo
- [ ] Load testing realizado
- [ ] Backup strategy implementada

### Monitoramento e ManutenÃ§Ã£o
- [ ] APM configurado (Sentry)
- [ ] Logs centralizados
- [ ] Alertas configurados
- [ ] Dashboards criados
- [ ] Runbooks documentados
- [ ] Post-mortem template pronto

## ğŸš€ RESULTADO ESPERADO

Uma documentaÃ§Ã£o que:

**Elimina Ambiguidades**
- EspecificaÃ§Ãµes tÃ©cnicas precisas
- Regras de negÃ³cio claras
- Fluxos detalhados
- DecisÃµes documentadas

**Acelera Desenvolvimento**
- Templates prontos
- PadrÃµes estabelecidos
- Ferramentas configuradas
- Processos definidos

**Facilita Onboarding**
- Setup automatizado
- DocumentaÃ§Ã£o clara
- Exemplos prÃ¡ticos
- Mentoria estruturada

**Garante Qualidade**
- Testes automatizados
- Code review process
- Performance monitoring
- Security by design

**Suporta Escala**
- Arquitetura escalÃ¡vel
- Database otimizado
- Caching estratÃ©gico
- Load balancing ready

**Reduz Riscos**
- Backup automÃ¡tico
- Disaster recovery
- Compliance garantido
- Security first

## ğŸ’¡ FORMATO DE RESPOSTA

Ao usar este prompt, organize a documentaÃ§Ã£o em:

1. **SeÃ§Ãµes Claras**: Use headers hierÃ¡rquicos
2. **Markdown Rico**: Tabelas, listas, code blocks
3. **Diagramas**: ASCII art ou Mermaid
4. **Exemplos**: CÃ³digo real e funcional
5. **Checklists**: Para validaÃ§Ã£o
6. **Links**: Entre seÃ§Ãµes relacionadas
7. **Versionamento**: Data e responsÃ¡vel

**Priorize**:
- Clareza sobre brevidade
- Exemplos sobre teoria
- EspecÃ­fico sobre genÃ©rico
- PrÃ¡tico sobre conceitual

## ğŸ”„ MANUTENÃ‡ÃƒO CONTÃNUA

**RevisÃ£o Semanal**
- [ ] Atualizar status do projeto
- [ ] Revisar mÃ©tricas e KPIs
- [ ] Documentar decisÃµes tomadas
- [ ] Atualizar roadmap

**RevisÃ£o Mensal**
- [ ] Revisar arquitetura
- [ ] Atualizar dependÃªncias
- [ ] Avaliar performance
- [ ] Planejar melhorias

**RevisÃ£o Trimestral**
- [ ] Revisar OKRs
- [ ] Atualizar tech stack
- [ ] Avaliar ROI
- [ ] Planejar prÃ³ximo trimestre

## ğŸ“š RECURSOS ADICIONAIS

**Templates IncluÃ­dos**
- PRD Template
- API Documentation
- Database Schema
- Testing Strategy
- CI/CD Pipeline
- Post-mortem Template

**Ferramentas Recomendadas**
- **DocumentaÃ§Ã£o**: Notion, Confluence
- **Diagramas**: Draw.io, Mermaid
- **API**: Swagger, Postman
- **Monitoring**: Sentry, DataDog
- **Analytics**: Mixpanel, Amplitude

**ReferÃªncias**
- [Next.js Documentation](https://nextjs.org/docs)
- [Supabase Documentation](https://supabase.com/docs)
- [WCAG Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)
- [OWASP Security](https://owasp.org/www-project-top-ten/)

---

*Esta documentaÃ§Ã£o Ã© um documento vivo e deve ser atualizada continuamente conforme o projeto evolui. Ãšltima atualizaÃ§Ã£o: [Data] por [ResponsÃ¡vel]*